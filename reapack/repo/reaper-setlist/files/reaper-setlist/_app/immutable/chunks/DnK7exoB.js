var Z=Object.defineProperty;var D=s=>{throw TypeError(s)};var G=(s,e,t)=>e in s?Z(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var L=(s,e,t)=>G(s,typeof e!="symbol"?e+"":e,t),M=(s,e,t)=>e.has(s)||D("Cannot "+t);var r=(s,e,t)=>(M(s,e,"read from private field"),t?t.call(s):e.get(s)),v=(s,e,t)=>e.has(s)?D("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),k=(s,e,t,a)=>(M(s,e,"write to private field"),a?a.call(s,t):e.set(s,t),t);import{g as B,J as H,K as m,L as J,M as N,N as Y,h as I,O as Q,P as V,Q as W,d as X,b as j,E as ee,R as se,S as te,U as re,V as ae,W as C,C as ie,e as ne,u as K,I as fe,X as U,Y as ce,Z as ue,_ as de,m as y,$ as he,a0 as le,k as oe,v as _e,a1 as ve,z as pe,a2 as be,a3 as ge,a4 as Se,a5 as Pe,a6 as Ae}from"./BWSO7Bi6.js";var o,_,d,S,P,R;class Ee{constructor(e,t=!0){L(this,"anchor");v(this,o,new Map);v(this,_,new Map);v(this,d,new Map);v(this,S,!0);v(this,P,()=>{var e=B;if(r(this,o).has(e)){var t=r(this,o).get(e),a=r(this,_).get(t);if(a)H(a);else{var n=r(this,d).get(t);n&&(r(this,_).set(t,n.effect),r(this,d).delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),a=n.effect)}for(const[i,f]of r(this,o)){if(r(this,o).delete(i),i===e)break;const c=r(this,d).get(f);c&&(m(c.effect),r(this,d).delete(f))}for(const[i,f]of r(this,_)){if(i===t)continue;const c=()=>{if(Array.from(r(this,o).values()).includes(i)){var h=document.createDocumentFragment();V(f,h),h.append(N()),r(this,d).set(i,{effect:f,fragment:h})}else m(f);r(this,_).delete(i)};r(this,S)||!a?J(f,c,!1):c()}}});v(this,R,e=>{r(this,o).delete(e);const t=Array.from(r(this,o).values());for(const[a,n]of r(this,d))t.includes(a)||(m(n.effect),r(this,d).delete(a))});this.anchor=e,k(this,S,t)}ensure(e,t){var a=B,n=W();if(t&&!r(this,_).has(e)&&!r(this,d).has(e))if(n){var i=document.createDocumentFragment(),f=N();i.append(f),r(this,d).set(e,{effect:Y(()=>t(f)),fragment:i})}else r(this,_).set(e,Y(()=>t(this.anchor)));if(r(this,o).set(a,e),n){for(const[c,u]of r(this,_))c===e?a.skipped_effects.delete(u):a.skipped_effects.add(u);for(const[c,u]of r(this,d))c===e?a.skipped_effects.delete(u.effect):a.skipped_effects.add(u.effect);a.oncommit(r(this,P)),a.ondiscard(r(this,R))}else I&&(this.anchor=Q),r(this,P).call(this)}}o=new WeakMap,_=new WeakMap,d=new WeakMap,S=new WeakMap,P=new WeakMap,R=new WeakMap;function Ie(s,e,t=!1){I&&j();var a=new Ee(s),n=t?ee:0;function i(f,c){if(I){const h=se(s)===te;if(f===h){var u=re();ae(u),a.anchor=u,C(!1),a.ensure(f,c),C(!0);return}}a.ensure(f,c)}X(()=>{var f=!1;e((c,u=!0)=>{f=!0,i(u,c)}),f||i(!1,null)},n)}function F(s,e){return s===e||(s==null?void 0:s[U])===e}function Oe(s={},e,t,a){return ie(()=>{var n,i;return ne(()=>{n=i,i=[],K(()=>{s!==t(...i)&&(e(s,...i),n&&F(t(...n),s)&&e(null,...n))})}),()=>{fe(()=>{i&&F(t(...i),s)&&e(null,...i)})}}),s}let E=!1;function Re(s){var e=E;try{return E=!1,[s(),E]}finally{E=e}}const Te={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function we(s,e,t){return new Proxy({props:s,exclude:e},Te)}function xe(s,e,t,a){var w;var n=(t&Se)!==0,i=(t&ge)!==0,f=a,c=!0,u=()=>(c&&(c=!1,f=i?K(a):a),f),h;if(n){var $=U in s||Ae in s;h=((w=ce(s,e))==null?void 0:w.set)??($&&e in s?l=>s[e]=l:void 0)}var p,O=!1;n?[p,O]=Re(()=>s[e]):p=s[e],p===void 0&&a!==void 0&&(p=u(),h&&(ue(),h(p)));var b;if(b=()=>{var l=s[e];return l===void 0?u():(c=!0,l)},(t&de)===0)return b;if(h){var q=s.$$legacy;return(function(l,A){return arguments.length>0?((!A||q||O)&&h(A?b():l),l):b()})}var T=!1,g=((t&Pe)!==0?he:le)(()=>(T=!1,b()));n&&y(g);var z=pe;return(function(l,A){if(arguments.length>0){const x=A?y(g):n?oe(l):l;return _e(g,x),T=!0,f!==void 0&&(f=x),l}return ve&&T||(z.f&be)!==0?g.v:y(g)})}export{Ee as B,Oe as b,Ie as i,xe as p,we as r};
