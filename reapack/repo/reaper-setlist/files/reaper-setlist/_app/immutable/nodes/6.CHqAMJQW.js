import{g as u,n as g}from"../chunks/DEfdFb_i.js";import{f as c,a as r,s as A,c as O}from"../chunks/B_oGNvez.js";import{p as j,k as f,s as E,f as m,a as M,c as P,r as z,t as D}from"../chunks/BWSO7Bi6.js";import{i as p}from"../chunks/DnK7exoB.js";import{g as F}from"../chunks/CDaJ8X4z.js";import{S as I}from"../chunks/4JE_Z_H_.js";const N=async({fetch:o})=>{try{return{songs:await u(o).songs.list()}}catch(a){return{songs:{},error:a instanceof Error?a.message:"An unknown error occurred."}}},L=Object.freeze(Object.defineProperty({__proto__:null,load:N},Symbol.toStringTag,{value:"Module"}));var R=c('<p style="color: red;"> </p>'),T=c("<p>No songs available. Please add some songs first.</p>"),q=c("<meta:head><title>Add Set - Reaper Setlist</title></meta:head> <h1>Add Set</h1> <!>",1);function Q(o,a){j(a,!0);let n=f(a.data.songs),v=f({venue:"",date:new Date().toISOString(),songs:[]});const l=a.data.error,_=u();async function h(e){try{await _.sets.add(e),g.success("Set added successfully!"),await F("#/")}catch(t){g.error(`Failed to add set: ${t.message}`)}}var d=q(),S=E(m(d),4);{var y=e=>{var t=R(),i=P(t,!0);z(t),D(()=>A(i,l)),r(e,t)},b=e=>{var t=O(),i=m(t);{var w=s=>{var x=T();r(s,x)},k=s=>{I(s,{get setlist(){return v},get songs(){return n},onSubmit:h})};p(i,s=>{Object.keys(n).length===0?s(w):s(k,!1)},!0)}r(e,t)};p(S,e=>{l?e(y):e(b,!1)})}r(o,d),M()}export{Q as component,L as universal};
