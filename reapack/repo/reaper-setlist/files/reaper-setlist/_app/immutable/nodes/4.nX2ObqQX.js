import{g as v,n as E}from"../chunks/PsnSwRbB.js";import{f,a as i,s as k,c as j}from"../chunks/Dktx9MQm.js";import{p as A,k as d,s as M,f as g,a as O,c as P,r as z,t as F}from"../chunks/Dv93RvCJ.js";import{i as u}from"../chunks/5mgx-mTD.js";import{g as R}from"../chunks/D3V6U8-N.js";import{S as T}from"../chunks/BZMgrGM7.js";const q=async({fetch:c,params:a})=>{try{const r=a.id,s=v(c),[n,l]=await Promise.all([s.sets.get(r),s.songs.list()]);return{set:n,songs:l}}catch(r){return{set:void 0,songs:{},error:r instanceof Error?r.message:"An unknown error occurred."}}},N=Object.freeze(Object.defineProperty({__proto__:null,load:q},Symbol.toStringTag,{value:"Module"}));var B=f('<p style="color: red;"> </p>'),C=f("<p>Set not found.</p>"),D=f("<meta:head><title>Edit Set - Reaper Setlist</title></meta:head> <h1>Edit Set</h1> <!>",1);function Q(c,a){A(a,!0);let r=d(a.data.set),s=d(a.data.songs);const n=a.data.error,l=v();async function _(t){try{await l.sets.update(t.id,t),await R("#/")}catch(e){E.error(`Failed to update set: ${e.message}`)}}var p=D(),h=M(g(p),4);{var S=t=>{var e=B(),m=P(e,!0);z(e),F(()=>k(m,n)),i(t,e)},y=t=>{var e=j(),m=g(e);{var b=o=>{T(o,{get setlist(){return r},get songs(){return s},onSubmit:_})},w=o=>{var x=C();i(o,x)};u(m,o=>{r?o(b):o(w,!1)},!0)}i(t,e)};u(h,t=>{n?t(S):t(y,!1)})}i(c,p),O()}export{Q as component,N as universal};
